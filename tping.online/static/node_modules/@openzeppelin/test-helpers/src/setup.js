require('../configure')();

var web3 = require('./config/web3').getWeb3();

var BN = web3.utils.BN;

var chaiBN = require('chai-bn')(BN);

require('chai').use(chaiBN); // Installing chai-bn for the user is part of the offering.
//
// The chai module used internally by us may not be the same one that the user
// has in their own tests. This can happen if the version ranges required don't
// intersect, or if the package manager doesn't dedupe the modules for any
// other reason. We do our best to install chai-bn for the user.


for (var _i = 0, _arr = [require.main, module.parent]; _i < _arr.length; _i++) {
    var mod = _arr[_i];

    try {
        mod.require('chai').use(chaiBN);
    } catch (e) { // Ignore errors
    }
}

module.exports = {
    web3: web3,
    BN: BN
};