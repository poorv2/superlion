'use strict';

var varint = require('varint');

module.exports = {
    numberToBuffer: numberToBuffer,
    bufferToNumber: bufferToNumber,
    varintBufferEncode: varintBufferEncode,
    varintBufferDecode: varintBufferDecode,
    varintEncode: varintEncode
};

function bufferToNumber(buf) {
    return parseInt(buf.toString('hex'), 16);
}

function numberToBuffer(num) {
    var hexString = num.toString(16);

    if (hexString.length % 2 === 1) {
        hexString = '0' + hexString;
    }

    return Buffer.from(hexString, 'hex');
}

function varintBufferEncode(input) {
    return Buffer.from(varint.encode(bufferToNumber(input)));
}

function varintBufferDecode(input) {
    return numberToBuffer(varint.decode(input));
}

function varintEncode(num) {
    return Buffer.from(varint.encode(num));
}