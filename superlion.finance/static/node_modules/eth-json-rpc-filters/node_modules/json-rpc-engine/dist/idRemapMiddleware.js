"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.createIdRemapMiddleware = void 0;

var getUniqueId_1 = require("./getUniqueId");

function createIdRemapMiddleware() {
    return function(req, res, next, _end) {
        var originalId = req.id;
        var newId = getUniqueId_1.getUniqueId();
        req.id = newId;
        res.id = newId;
        next(function(done) {
            req.id = originalId;
            res.id = originalId;
            done();
        });
    };
}

exports.createIdRemapMiddleware = createIdRemapMiddleware;